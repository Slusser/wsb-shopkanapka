<h2>Sandwich Form</h2>

<form autocomplete="off" novalidate [formGroup]='sandwichForm'>
    <section>
        <fieldset>
            <legend>Name</legend>
            <input type="text" formControlName="name">
            <p *ngIf="showErrors && sandwichForm.get('name').errors?.minlength" class="error">Nazwa kanapki musi mieć co najmniej 5 znaków!</p>
        </fieldset>


    </section>

    <section>
        <fieldset>
           <legend>Ingredients</legend> 
            <ul formGroupName="ingredients">

                <li *ngFor="let ingredient of sandwichForm.get('ingredients').value | keyvalue">
                    <input type="checkbox" [formControlName]="ingredient.key" [value]="ingredient.value"> {{ingredient.key}}
                </li>
            </ul>
        </fieldset>
    </section>

    <section>
        <fieldset>
            <legend>Sauce</legend>
                        
            <select formControlName="sauce">
                <option *ngFor="let sauce of sauces" [value]="sauce.value">
                    {{sauce.label}}
                </option>
            </select>
        </fieldset>
    </section>

    <section>
        <fieldset>
           <legend>Vege</legend> 
            <input type="radio" [value]='true' formControlName="vege"> Yes
            <input type="radio" [value]='false' formControlName="vege">No
        </fieldset>
    </section>

    <section>
        <fieldset>
            <legend>Price</legend> 
            <input type="number" formControlName="price">
            
        <p *ngIf="showErrors && sandwichForm.get('price').errors?.min" class="error">Nazwa kanapki nie może być niższa niż 0!</p>
        <p *ngIf="showErrors && sandwichForm.get('price').errors?.max" class="error">Nazwa kanapki nie może być wyższa niż 20!</p>
        </fieldset>
    </section>

    <section>
        <button type="button" (click)='save()'>Save</button>
    </section>
</form>
